{"id":"index.js","dependencies":[{"name":"/Users/jean-philippe/Documents/Temp/DEV/js-dev-leaflet/package.json","includedInParent":true,"mtime":1649078816058}],"generated":{"js":"var tiles = L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n  maxZoom: 19,\n  minZoom: 5,\n  attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n}),\n    latlng = L.latLng(46.90296, 1.90925);\nvar map = L.map(\"map\", {\n  center: latlng,\n  zoom: 6,\n  layers: [tiles]\n});\nvar markersCluster = new L.MarkerClusterGroup();\n\nfor (var i = 0; i < geojson.length; i++) {\n  var latLng = new L.LatLng(geojson[i].geometry.coordinates[1], geojson[i].geometry.coordinates[0]);\n  var myID = geojson[i].recordid;\n  var myTitle = geojson[i].fields.titre;\n  var myIcon = L.icon({\n    iconUrl: \"https://fms19-dev.imadiff.net/\" + getIcon(geojson[i].fields.categorie1, geojson[i].fields.categorie2, geojson[i].fields.categorie3),\n    iconSize: [33, 44],\n    iconAnchor: [16, 44],\n    popupAnchor: [-3, -76]\n  });\n  var marker = new L.Marker(latLng, {\n    icon: myIcon\n  }).bindTooltip(myTitle).on(\"click\", onMapClick.bind(myID));\n  markersCluster.addLayer(marker);\n}\n\nmap.addLayer(markersCluster);\n\nfunction onMapClick(e) {\n  typeof FileMaker !== \"undefined\" ? FileMaker.PerformScriptWithOption(\"FromJS\", JSON.stringify(this), 0) : console.log(this);\n}"},"sourceMaps":null,"error":null,"hash":"39465e0ea76ac71557f27260b53ca720","cacheData":{"env":{}}}